<!-- <app-loading-bar *ngIf="loading$ | async"></app-loading-bar> -->
<div class="loading-section" *ngIf="loading$ | async">
  <mat-spinner [diameter]="40"></mat-spinner>
</div>

<div fxFlex class="custom-auth-dialog" fxLayout="column">
  <div class="custom-dialog-header" fxFlex fxLayout="row" fxLayoutAlign="space-between center">
    <span mat-dialog-title>User Registration</span>
    <button mat-icon-button mat-dialog-close class="close-button" aria-label="Close dialog">
      <mat-icon>close</mat-icon>
    </button>
  </div>
  <div class="custom-dialog-body">
    <mat-dialog-content>
      <div fxFlex fxLayout="column" fxLayoutGap="8px">
        <form [formGroup]="addForm" fxFlex fxLayout="column" fxLayoutGap="8px">
          <mat-form-field>
            <input required id="userName" matInput formControlName="userName" placeholder="User Name">
          </mat-form-field>
          <mat-form-field>
            <input required id="email" matInput formControlName="email" placeholder="Email">
          </mat-form-field>
          <mat-form-field>
            <input required id="firstName" matInput formControlName="firstName" placeholder="First Name">
          </mat-form-field>
          <mat-form-field>
            <input required id="lastName" matInput formControlName="lastName" placeholder="Last Name">
          </mat-form-field>
          <mat-form-field>
            <input required id="password" matInput formControlName="password" [type]="hide ? 'text' : 'password' "
              placeholder="password">
            <mat-icon matSuffix (click)="hide = !hide">
              {{hide ? 'visibility' : 'visibility_off'}}
            </mat-icon>
          </mat-form-field>
          <mat-form-field>
            <input type="tel" id="phoneNumber" matInput formControlName="phoneNumber" placeholder="Phone Number">
          </mat-form-field>
          <mat-form-field color="accent">
            <mat-label>Date of Birth</mat-label>
            <input title="dob picker" matInput formControlName="dateOfBirth" [matDatepicker]="picker1">
            <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
            <mat-datepicker #picker1></mat-datepicker>
          </mat-form-field>
        </form>
      </div>
    </mat-dialog-content>

    <mat-dialog-actions fxLayout="row" fxLayoutAlign="end center" fxLayoutGap="16px">
      <button mat-raised-button (click)="close()">CLOSE</button>
      <button mat-raised-button color="primary" (click)="saveUser()">SAVE</button>
    </mat-dialog-actions>

  </div>

</div>
